# Final_Project ğŸ

ì˜í™” ì •ë³´ë¥¼ ì œê³µ ë° ì¶”ì²œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.

ì˜í™”ì˜ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” SSAFY 1í•™ê¸°ì˜ ë§ˆì§€ë§‰ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. ì˜í™”ì— ì½”ë©˜íŠ¸ ì‘ì„± ê¸°ëŠ¥ê³¼ ìì‹ ë§Œì˜ ì˜í™”ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°ê°€ ê°€ëŠ¥í•œ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì´ í¬í•¨ë¬ìŠµë‹ˆë‹¤.

SSAFYì—ì„œ ì²˜ìŒìœ¼ë¡œ ì§„í–‰í•˜ëŠ” í˜‘ì—… í”„ë¡œì íŠ¸ ì´ë¯€ë¡œ ë¨¼ì € ê¸°ë³¸ì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼í•˜ëŠ” ë¶€ë¶„ì„ êµ¬í˜„í•˜ê³  ê¾¸ë¯¸ëŠ” ê²ƒì— ì¹˜ì¤‘í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ì„œ ì˜ë…¼ í•˜ì˜€ë˜ ê²ƒì€ UI/UXì˜ ë¶€ë¶„ì˜ ì˜ë…¼ì´ ë§ì•˜ìŠµë‹ˆë‹¤. ì›¹í˜ì´ì§€ë¥¼ ì œì‘í•˜ë©° ì‚¬ìš©ìì—ê²Œ ì–´ë–¤ ê²½í—˜ì„ ì£¼ê³  ê·¸ ê²½í—˜ì„ ì£¼ê¸° ìœ„í•´ UIì™€ back-serverì—ì„œëŠ” ì–´ë–¤ DBë¥¼ ë³´ë‚´ì£¼ì–´ì•¼í•˜ëŠ” ê°€ë¥¼ ì œì¼ ë§ì´ ì˜ë…¼í•˜ê³  ì—¬ëŸ¬ ì•„ì´ë””ì–´ê°€ ë‚˜ì˜¤ê³  êµ¬í˜„í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ë“¤ì´ ë§ì´ ë‚˜ì™”ê¸°ì— ì •ë¦¬í•´ê°€ë©° í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.

êµ¬í˜„í•˜ê³  ì‹¶ì€ ê²ƒì´ ë§ì´ ë‚˜ì™”ì§€ë§Œ í”„ë¡œì íŠ¸ ì œì¶œ ë‚ ì§œê°€ ì •í•´ì ¸ ìˆìœ¼ë¯€ë¡œ ìœ íŠœë¸Œì˜ ì¬ìƒëª©ë¡ ì‹œìŠ¤í…œì— ì˜ê°ì„ ë°›ì•„ ì‚¬ìš©ìê°€ ì°œëª©ë¡ì„ ìƒì„±í•˜ê³  ê° ëª©ë¡ì— ì—¬ëŸ¬ ì˜í™”ë¥¼ ì €ì¥í• ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì‚¬ìš©ì— ìµìˆ™í•œ ì‹œìŠ¤í…œì„ ë„ˆì–´ ì¢€ë” í¸í•œ ì˜í™”ëª©ë¡ ìƒì„±ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ ì¢‹ì€ ê²½í—˜ì„ ì‹œì¼œì£¼ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.

## íŒ€ì› âŒ¨

###### íŒ€ì¥: ìš©ìŠ¹ë¯¼

###### íŒ€ì›: ê¹€ì˜ˆì€

## í”„ë¡œì íŠ¸ ì§„í–‰ ê³¼ì •âš™

- ë©”ì¸ í˜ì´ì§€ì™€ DBğŸ§¨

  - í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‹œì‘í•˜ê¸°ìœ„í•´ì„œ ë§Œë“¤ì–´ì•¼ í–ˆë˜ ë‘ê°€ì§€ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ë¨¼ì € ë©”ì¸í˜ì´ì§€ì˜ êµ¬ì„±ì„ ìƒê°í•˜ê³  ì´ì— ë”°ë¼ DBë¥¼ tmdbì—ì„œ ë°›ì•„ì™€ 50ê°œì˜ ì‘ì€ DBë¥¼ êµ¬ì„±í•˜ì—¬ ë©”ì¸ í˜ì´ì§€ë¡œ ë³´ë‚´ ë³´ì•˜ìŠµë‹ˆë‹¤.
  - DBë¥¼ êµ¬ì„±í•˜ë©´ì„œ ì–´ë–¤ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì•¼ë˜ëŠ”ì§€ ì •í•˜ì§€ ì•Šê³  ê°„ë‹¨í•˜ê²Œ ê°€ì ¸ì˜¨ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤ ì´í›„ ìƒì„¸í˜ì´ì§€ êµ¬ì„±ì„ ìœ„í•œ í˜ì´ì§€ ì‘ì„±ì„ ì‹œì‘í•˜ì˜€ì„ ë•Œ DBì— ì›í•˜ëŠ” ì •ë³´ê°€ ì—†ì—ˆìŠµë‹ˆë‹¤.
- ìƒì„¸ í˜ì´ì§€ì™€ DBì‘ì„±ğŸ“ƒ

  - ìƒì„¸ í˜ì´ì§€ êµ¬ì„±ì‹œ í•„ìš”í•œ ì •ë³´ë“¤ê³¼ ì¶”ê°€ì ìœ¼ë¡œ ì›í•˜ëŠ” ì •ë³´ë“¤ì„ DBì— ì €ì¥í•  í•„ìš”ë¥¼ ëŠë¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
  - ì›í•˜ëŠ” ì •ë³´ë¥¼ ìœ„í•´ backendì— í•„ìš”í•œ ëª¨ë¸ì„ ì‘ì„±í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.
    ![django modelì˜ êµ¬ì¡°](./image_for_readme/er_diagram_for_fpj.png)
  - í•„ìš”í•œ DBë¥¼ êµ¬ì„±í•˜ê¸°ìœ„í•´ Pythonìœ¼ë¡œ ì—¬ëŸ¬ requestë¥¼ ë³´ë‚´ì£¼ì—ˆìŠµë‹ˆë‹¤.
    [&#39;DBë¥¼ ì‘ì„±í•˜ê¸°ìœ„í•œ python file&#39;](https://lab.ssafy.com/yongsm295/final-pjt/-/blob/main/final-pjt-back/request.py)
  - 9966ê°œì˜ ì˜í™” DBë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

##### í•„ìˆ˜ìš”ì†Œ! ì¶”ì²œì•Œê³ ë¦¬ì¦˜! ğŸ› 

ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì¶”ì²œì•Œê³ ë¦¬ì¦˜ì´ í•„ìˆ˜ë¡œ êµ¬í˜„ë˜ì–´ì•¼ í–ˆìŠµë‹ˆë‹¤. ë§ì€ ì•„ì´ë””ì–´ê°€ ë‚˜ì™”ê³  ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ì¶”ì²œê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ê¸° ìœ„í•´ ìµœê·¼ì ‘ ì´ì›ƒ ê¸°ë°˜ í•„í„°ë§ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.

- ìµœê·¼ì ‘ ì´ì›ƒ ê¸°ë°˜ í•„í„°ë§ : ì‚¬ìš©ì-ì•„ì´í…œ í–‰ë ¬ì—ì„œ ì‚¬ìš©ìê°€ ì•„ì§ í‰ê°€í•˜ì§€ ì•Šì€ ì•„ì´í…œì„ ì˜ˆì¸¡í•˜ëŠ” ê²ƒì´ ëª©í‘œ

ì´ë•Œ ì•„ì´í…œìœ¼ë¡œ ì˜í™” ì¥ë¥´ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì¥ë¥´ë¥¼ í†µí•´ ë‹¤ë¥¸ ì˜í™”ë¥¼ ì¶”ì²œí•´ì£¼ì—ˆìŠµë‹ˆë‹¤.

- ì¶”ì²œí˜ì´ì§€ì—ì„œ ì˜í™”ë¥¼ ê³¨ë¼ ë³´ë‚´ì¤€ë‹¤.
- ë°›ì€ ì˜í™”ì œëª©ì˜ indexë¥¼ ë½‘ì•„ë‚¸ë‹¤.
- ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ì¤‘ ì˜í™” ì œëª© ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì—ì„œ ì¶”ì²œì˜í™”ë¥¼ ë½‘ì•„ë‚¸ë‹¤.
  - í–‰ë ¬ ë¶„í•´ë¥¼ ê¸°ë°˜í•˜ì—¬ ì‚¬ìš©í•œë‹¤. ì´ ë°©ë²•ì€ python pandasì˜ pivot tableë¡œ ì§€ì›í•´ì¤€ë‹¤.
- ì´ ë•Œ ì—¬ëŸ¬ ì˜í™”ê°€ ë“¤ì–´ì˜¤ë©´ ê°ê° ë½‘ì•„ë‚¸ë‹¤.
- ë½‘ì•„ë‚¸ ì˜í™”ì¤‘ ì¤‘ë³µì´ ìˆë‹¤ë©´ ì¤‘ë³µì„ ìš°ì„ ìœ¼ë¡œ ì •ë ¬í•˜ê³  ratingì„ ì ìš©í•œ ì¶”ì²œì ìˆ˜ ê¸°ë°˜ìœ¼ë¡œ ì •ë ¬í•œë‹¤.
- ì •ë ¬ëœì˜í™”ì¤‘ 5ê°œë¥¼ ì¶”ì²œí•´ì¤€ë‹¤.

```python
def find_movie():
    pd.set_option('display.max_rows', 10000) # í–‰ì„¤ì •
    pd.set_option('display.max_columns', 10000) # ì—´ ì„¤ì •
    pd.set_option('display.width', 10000) # ì¶œë ¥ ì°½ ë„“ì´ ì„¤ì •

    data = pd.read_csv('movieitem.csv', encoding='UTF-8') # ì˜í™”ì •ë³´ê°€ ë‹´ê¸´ csvíŒŒì¼
    data = data[["title", "release_date", "popularity","vote_count","vote_average","genres","actor","director","id"]]
    m = data["vote_count"].quantile(0.9) 

'''
íˆ¬í‘œìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ì‚¬ëŒë“¤ì´ ë§ì´ ë³´ê³  í‰ê°€í•œ ì˜í™” ì´ëŸ° ì˜í™”ì¤‘ ë§ì€ íˆ¬í‘œë¡œ ì¸í•´ 
íˆ¬í‘œ ì ìˆ˜ê°€ ë‚®ì„ ìˆ˜ ìˆë‹¤ ì´ëŸ¬í•œ ë¶ˆê³µì •ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ê°€ì¤‘ì¹˜ë¥¼ ë‘ì—ˆë‹¤.
ì´ë•Œ ì´ ê°€ì¤‘ì¹˜ ì²˜ë¦¬ ì‹ ê°€ì¤‘ í‰ì (WR) = (v Ã· (v+m)) Ã— R + (m Ã· (v+m)) Ã— C ì—¬ê¸°ì—ì„œ:

R = ì˜í™”ì˜ í‰ê· (í‰ê· ) = (ë“±ê¸‰)
v = ì˜í™”ì— ëŒ€í•œ íˆ¬í‘œ ìˆ˜ = (votes)
m = ìƒìœ„ì— í¬í•¨ë˜ê¸° ìœ„í•´ í•„ìš”í•œ ìµœì†Œ íˆ¬í‘œ ìˆ˜
C = ì „ì²´ ë³´ê³ ì„œì˜ í‰ê·  íˆ¬í‘œ
ì¶œì²˜ : https://www.quora.com/How-does-IMDbs-rating-system-work
'''

    # data = data.loc[data["vote_count"] >= m]
    C = data['vote_average'].mean()

    def weighted_rating(x,m=m,C=C):
        v=x["vote_count"]
        R=x['vote_average']
        return (v/(v+m)*R)+(m/(m+v)*C)


    data['recommed_count']=data.apply(weighted_rating,axis=1) #listì™€ dictí˜•íƒœë¡œ ë§Œë“¤ê³ 
    data['genres'] = data['genres'].apply(literal_eval)
    data['genres']=data['genres'].apply(lambda x : [d['name'] for d in x]).apply(lambda x: " ".join(x))
	# list í˜•íƒœì—ì„œ stringí˜•íƒœë¡œ ë§Œë“¤ì—ˆë‹¤.

    data.to_csv('data2.csv')
    count_vector = CountVectorizer(ngram_range=(1,3))
    c_vector = count_vector.fit_transform(data['genres'])
      #ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ êµ¬í•œ ë²¡í„°ë¥¼ ë¯¸ë¦¬ ì €ì¥
    sparse.save_npz("yourmatrix.npz", c_vector)
```

ìœ„ì— êµ¬í•œ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ì €ì¥ì‹œí‚¨ íŒŒì¼ì„ ë¶ˆëŸ¬ ì˜í™”ë¥¼ ì¶”ì²œí•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
[&#39;ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ íŒŒì¼&#39;](https://lab.ssafy.com/yongsm295/final-pjt/-/blob/main/final-pjt-back/movies/recommande_movie.py)

## DBì™„ì„±! í”„ë¡ íŠ¸êµ¬í˜„ ğŸ“¢

- í•„ìš”í•œ DBê°€ ë¬´ì—ˆì¸ì§€ ì•Œê²Œë˜ì–´ DBì‘ì„±ì´ ëë‚œí›„ ë³¸ê²©ì ìœ¼ë¡œ frontend ì‘ì„±ì„ ì‹œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.
  ![vueì˜ êµ¬ì¡°](./image_for_readme/componets_for_final_pjt.png)
- ì™„ì„±ë˜ë©´ ì‚¬ì§„ë„£ì„ ê³³

## í›„ê¸°

##### ìš©ìŠ¹ë¯¼

SSAFYê³µë¶€ë¥¼ ì‹œì‘í•˜ê³  ì²˜ìŒìœ¼ë¡œ êµ¬í˜„í•´ë³´ëŠ” í˜‘ì—… í”„ë¡œì íŠ¸ì˜€ìŠµë‹ˆë‹¤. SSAFYì—ì„œ ë°°ìš´ ëª¨ë“ ê²ƒì„ ì‚¬ìš©í•´ë³´ë ¤ ë…¸ë ¥í•˜ì˜€ê³  ì§€ê¸ˆê¹Œì§€ í•´ì£¼ì…§ë˜ ìˆ˜ì—…ì— ì§€ë‚˜ê°€ë˜ ë§ë“¤ì´ ì¤‘ìš”í•œìˆœê°„ì— í•„ìš”í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ë•Œ ë¹„ë¡œì†Œ í•„ìš”í•œ ê²ƒì„ ëŠë¼ê²Œ ë˜ì—ˆê³  ë” ë§ì´ ê³µë¶€í• ê±¸ ì´ë¼ëŠ” ì•„ì‰¬ì›€ì´ ë‚¨ê³  ì œê°€ ë” ê³µë¶€í•´ì•¼í•  ë¶€ë¶„ì—ëŒ€í•´ ëŠë¼ê²Œ í•´ì£¼ëŠ” ì¢‹ì€ ê¸°íšŒ ì˜€ìŠµë‹ˆë‹¤. í˜ë“  ê³¼ì •ì´ì˜€ì§€ë§Œ ì¢‹ì€ íŒ€ì›ê³¼ í•¨ê»˜í•˜ì—¬ ì¦ê±°ì› ìŠµë‹ˆë‹¤. ë¶€ì¡±í•¨ì„ ëŠë‚€ë§Œí¼ ë‹¤ìŒ í”„ë¡œì íŠ¸ì „ê¹Œì§€ ë§ì€ ì¤€ë¹„ë¥¼ í•´ì•¼ê² ìŠµë‹ˆë‹¤.

##### ê¹€ì˜ˆì€



## ì°¸ê³ 


1) "ë”¥ ëŸ¬ë‹ - ì˜í™” ì¶”ì²œ ì‹œìŠ¤í…œ"  Isnaghada https://velog.io/@skarb4788/
2)  "ì¶”ì²œ ì‹œìŠ¤í…œ(Recommendation system)ì´ë€? - content based filtering, collaborative filtering" ê¿ˆ ë§ì€ ì‚¬ëŒì˜ ì´ì•¼ê¸° https://lsjsj92.tistory.com/563